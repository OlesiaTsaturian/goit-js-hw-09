{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const refs = {\n  form: document.querySelector('.feedback-form'),\n};\n\nlet formData = {\n  email: '',\n  message: '',\n};\n\nconst fillOutForm = () => {\n  const dataFromLocalStoreg = JSON.parse(\n    localStorage.getItem('feedback-form-state')\n  );\n\n  if (dataFromLocalStoreg === null) {\n    return;\n  }\n\n  formData = dataFromLocalStoreg;\n\n  const formFromLocalStorage = Object.keys(dataFromLocalStoreg);\n\n  formFromLocalStorage.forEach(key => {\n    refs.form.elements[key].value = dataFromLocalStoreg[key];\n  });\n};\nfillOutForm();\n\nconst onInputFormsChange = ({ target: formfield }) => {\n  const formfieldName = formfield.name;\n  const formFieldValue = formfield.value.trim();\n  formData[formfieldName] = formFieldValue;\n\n  localStorage.setItem('feedback-form-state', JSON.stringify(formData));\n};\n\nconst onSumitAction = event => {\n  event.preventDefault();\n\n  if (!formData.email || !formData.message) {\n    return alert('Fill please all fields');\n  }\n  console.log(formData);\n  refs.form.reset();\n  localStorage.removeItem('feedback-form-state');\n  formData = { email: '', message: '' };\n};\n\nrefs.form.addEventListener('input', onInputFormsChange);\nrefs.form.addEventListener('submit', onSumitAction);\n"],"names":["refs","formData","fillOutForm","dataFromLocalStoreg","key","onInputFormsChange","formfield","formfieldName","formFieldValue","onSumitAction","event"],"mappings":"wFAAA,MAAMA,EAAO,CACX,KAAM,SAAS,cAAc,gBAAgB,CAC/C,EAEA,IAAIC,EAAW,CACb,MAAO,GACP,QAAS,EACX,EAEA,MAAMC,EAAc,IAAM,CACxB,MAAMC,EAAsB,KAAK,MAC/B,aAAa,QAAQ,qBAAqB,CAC9C,EAEE,GAAIA,IAAwB,KAC1B,OAGFF,EAAWE,EAEkB,OAAO,KAAKA,CAAmB,EAEvC,QAAQC,GAAO,CAClCJ,EAAK,KAAK,SAASI,CAAG,EAAE,MAAQD,EAAoBC,CAAG,CAC3D,CAAG,CACH,EACAF,IAEA,MAAMG,EAAqB,CAAC,CAAE,OAAQC,KAAgB,CACpD,MAAMC,EAAgBD,EAAU,KAC1BE,EAAiBF,EAAU,MAAM,KAAI,EAC3CL,EAASM,CAAa,EAAIC,EAE1B,aAAa,QAAQ,sBAAuB,KAAK,UAAUP,CAAQ,CAAC,CACtE,EAEMQ,EAAgBC,GAAS,CAG7B,GAFAA,EAAM,eAAc,EAEhB,CAACT,EAAS,OAAS,CAACA,EAAS,QAC/B,OAAO,MAAM,wBAAwB,EAEvC,QAAQ,IAAIA,CAAQ,EACpBD,EAAK,KAAK,QACV,aAAa,WAAW,qBAAqB,EAC7CC,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,CACrC,EAEAD,EAAK,KAAK,iBAAiB,QAASK,CAAkB,EACtDL,EAAK,KAAK,iBAAiB,SAAUS,CAAa"}